!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).hyperscripts={})}(this,function(e){"use strict";var o="javascript/blocked",l={blacklist:window.HS_SCRIPTS_BLACKLIST,whitelist:window.HS_SCRIPTS_WHITELIST},u={blacklisted:[]};function i(t,e){var n,r,i=!t.src||!l.whitelist||l.whitelist.every(function(e){return!e.test(t.src)});return(!e||e!==o)&&!!(!(r=e)||"application/javascript"===r||"text/javascript"===r||"application/ecmascript"===r)&&!t.hasAttribute("hs-ignore")&&i&&!((n=t).src&&n.src.includes("jquery"))}var r=new MutationObserver(function(e){for(var t=0;t<e.length;t++)for(var r=e[t].addedNodes,n=0;n<r.length;n++)!function(e){var t,n=r[e];1===n.nodeType&&"SCRIPT"===n.tagName&&((t=n.type)===o&&n.getAttribute("hs-load")?u.blacklisted.push([n,"application/javascript"]):i(n,t)&&(u.blacklisted.push([n,n.type]),n.type=o,n.addEventListener("beforescriptexecute",function e(t){n.getAttribute("type")===o&&t.preventDefault(),n.removeEventListener("beforescriptexecute",e)})))}(n)});r.observe(document.documentElement,{childList:!0,subtree:!0});var p=document.createElement,a={src:Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"src"),type:Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"type")};document.createElement=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("script"!==t[0].toLowerCase()||window.hsUnblocked)return p.bind(document).apply(void 0,t);var r=p.bind(document).apply(void 0,t);try{Object.defineProperties(r,{src:{get:function(){return a.src.get.call(this)},set:function(e){i(r,r.type)&&a.type.set.call(this,o),a.src.set.call(this,e)}},type:{set:function(e){var t=i(r,r.type)?o:e;a.type.set.call(this,t)}}}),r.setAttribute=function(e,t){"type"===e||"src"===e?r[e]=t:HTMLScriptElement.prototype.setAttribute.call(r,e,t)}}catch(e){console.warn("HyperScripts: unable to prevent script execution for script src ",r.src,".\n",'A likely cause would be because you are using a third-party browser extension that monkey patches the "document.createElement" function.')}return r};var n,c,t,s=null;function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.hsDeferReady=((t=new Promise(function(e,t){return n=e,c=t})).resolve=n,t.reject=c,t),Object.defineProperty(window,"$",{configurable:!0,enumerable:!0,writeable:!0,get:function(){return s},set:function(e){var n;e&&(n=e.prototype.ready,e.prototype.ready=function(e){var t=this;return Promise.all([n,window.hsDeferReady]).then(function(){return n.call(t,e)})}),s=e}});var h=new RegExp("[|\\{}()[\\]^$+*?.]","g");function v(e,t){var n=new Blob([e],{type:"text/javascript"}),r=URL.createObjectURL(n),i=p.bind(document)("script");i.src=r,i.async=!1,m(i,t)}function m(e,t){t?(t.appendChild(e),t.parentNode?t.parentNode.insertBefore(e,t):document.head.appendChild(e),t.parentElement&&t.parentElement.removeChild(t)):document.head.appendChild(e)}e.loadScriptSynchronouslyReplace=v,e.unblock=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];n.length<1?(l.blacklist=[],l.whitelist=[]):(l.blacklist&&(l.blacklist=l.blacklist.filter(function(t){return n.every(function(e){return"string"==typeof e?!t.test(e):e instanceof RegExp?t.toString()!==e.toString():void 0})})),l.whitelist&&(l.whitelist=[].concat(f(l.whitelist),f(n.map(function(t){if("string"==typeof t){var n=".*"+t.replace(h,"\\$&")+".*";if(l.whitelist.every(function(e){return e.toString()!==n.toString()}))return new RegExp(n)}else if(t instanceof RegExp&&l.whitelist.every(function(e){return e.toString()!==t.toString()}))return t;return null}).filter(Boolean))))),window.hsUnblocked=!0;var a=[],c=[],s=0;f(u.blacklisted).forEach(function(e,t){var n=d(e,2),r=n[0],i=n[1],o=function(e,t){for(var n=p.bind(document)("script"),r=0;r<e.attributes.length;r++){var i=e.attributes[r];n.setAttribute(i.name,i.value)}for(var o in e)o.startsWith("on")&&(n[o]=e[o]);return n.setAttribute("type",t||"application/javascript"),n.removeAttribute("hs-load"),n}(r,i);!(r.src||"application/javascript"!==i&&"text/javascript"!==i&&"module"!==i&&i)?(o.innerHTML=r.innerHTML,o.innerHTML&&"module"===i||o.innerHTML&&o.innerHTML.includes("asyncLoad")?m(o,r):v(o.innerHTML,r)):(o.async=!!r.hasAttribute("async"),o.defer=!!r.hasAttribute("defer"),o.async?c.push([o,r]):o.defer?a.push([o,r]):m(o,r)),u.blacklisted.splice(t-s,1),s++}),a.forEach(function(e){var t=d(e,2);m(t[0],t[1])}),c.forEach(function(e){var t=d(e,2),n=t[0],r=t[1];n.async=!1,m(n,r)}),v("\n        (function() {\n            if (window.hsDeferReady) {\n                window.hsDeferReady.resolve();\n            }\n            window.document.dispatchEvent(new Event('DOMContentLoaded', {bubbles: true}));\n        })();\n    ",null),v("\n        (function() {\n            var loadEvent = document.createEvent('Event');\n            loadEvent.initEvent('load', false, false);\n            window.dispatchEvent(loadEvent);\n        })();\n    ",null),l.blacklist&&l.blacklist.length<1&&r.disconnect()},Object.defineProperty(e,"__esModule",{value:!0})});